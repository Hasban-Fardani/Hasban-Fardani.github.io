<!DOCTYPE html><html data-theme="mytheme" lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/_astro/blog.D7h7646E.css">
<link rel="stylesheet" href="/_astro/index.CxopmXgD.css">
<style>h1,h2,h3,h4,h5,h6,p,img{padding:4px 0}
</style></head> <body class="bg-primary text-white min-h-screen"> <header> <div class="navbar md:px-16"> <div class="flex-1"> <a class="btn btn-ghost text-xl" href="/"> <img src="/hf-logo-light.png" alt="Hasban Fardani Logo" width="32" height="32" class="rounded-full">
Hasban Fardani
</a> </div> <div class="flex-none"> <ul class="menu menu-horizontal px-1 hidden md:flex"> <li> <a href="/"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"> <path d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"></path> <path d="m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"></path> </svg>
Home
</a> </li> <li> <a href="/projects"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"> <path d="M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"></path> </svg>
Projects</a> </li> <li> <a href="/blog"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"> <path fill-rule="evenodd" d="M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z" clip-rule="evenodd"></path> <path d="M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z"></path> </svg>
blog
</a> </li> </ul> <details class="dropdown md:hidden"> <summary class="btn btn-ghost m-1"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"> <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path> </svg> </summary> <ul class="menu dropdown-content rounded-box z-[1] p-2 right-0 bg-base-100 text-primary shadow"> <li> <a href="/"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"> <path d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"></path> <path d="m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"></path> </svg>
Home
</a> </li> <li> <a href="/projects"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"> <path d="M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"></path> </svg>
Projects
</a> </li> <li> <a href="/blog"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"> <path fill-rule="evenodd" d="M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z" clip-rule="evenodd"></path> <path d="M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z"></path> </svg>
blog
</a> </li> </ul> </details> </div> </div> </header> <main class="md:px-6 px-3">  <div class="flex flex-col justify-center items-center"> <div class="max-w-[85ch]"> <h1 id="title" id-value="366aa449-6159-4a51-ac43-700430b50133" class="text-3xl font-bold text-center mb-8">Cara Menghosting Laravel di Vercel dengan TiDB sebagai database SQL</h1> <div> <!-- {blocks.map(block => ( --> 
            <p>
                Assalammualaikum gaes,
            </p>
        
            <p>
                Pernah kepikiran ga, gimana caranya kita bisa hosting aplikasi laravel kita secara gratis dengan fitur database? Kalau pun ada biasanya kapasitasnya terbatas dan tidak ada integrasi dengan github…
            </p>
        
            <p>
                Nahh pas aku browsing browsing ternyata laravel bisa di hosting menggunakan vercel, namun karnena sifatnya yang serverless kita perlu beberapa konfigurasi, dan ada beberapa kekurangan seperti tidak bisa write atau upload file karena penyimpananya bersifat sementara.
            </p>
        
            <h1 class="notion-heading_1 notion-color-default">
                Cara Menggunakan TIDB di Laravel
            </h1>
        
            <p>
                📒 sebelum itu pastikan kamu telah memiliki akun github dan vercel ya…
            </p>
        
            <h2 class="notion-heading_2 notion-color-default">
                1️⃣ Buat project laravel
            </h2>
        
            <p>
                buka terminal lalu ketikan perintah berikut
            </p>
        
            <div class="notion-code">
                <pre><code class="language-bash">composer create-project laravel/laravel laravel-vercel-tidb</code></pre>
                
            </div>
        
            <p>
                setelah itu buka folder <code class="notion-text-code">laravel-vercel-tidb</code> dengan code editor favorit kalian, namun pada tutoria ini saya akan menggunakan vs code 
            </p>
        
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/79bc9b7b-8e25-4667-b400-1010a0de7fe2/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=60d0593f9e161664485e1537bc7692e587fa01f7d091aa440c7d4a718e2c4c53&X-Amz-SignedHeaders=host&x-id=GetObject" />
                
            </figure>
        
            <h2 class="notion-heading_2 notion-color-default">
                2️⃣ Buat Cluster dan Database 
            </h2>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Klik <span class="notion-color-blue">Create Cluster. </span>
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Ubah nama cluster jika diinginkan.
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Lalu klik create
            </li>
        </ol>
            <p>
                Lalu kita akan diarahkan ke halaman seperti ini
            </p>
        
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/9f6486d1-59dc-4e46-999b-131eb8c35739/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=cfa84b198e38b2ce4fd3377c35d83f1fbe4ce09a0fb4e66bcdc0d32b26eb1f35&X-Amz-SignedHeaders=host&x-id=GetObject" />
                <legend>Halaman Overview cluster</legend>
            </figure>
        
            <p>
                Horee kita sudah berhasil membuat cluster untuk database kita ✨
            </p>
        
            <p>
                Setelah itu kita buat database baru untuk project laravel kita
            </p>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                klik chat2query yang ada disebelah kiri
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                setelah itu ketikan perintah berikut lalu klik run
            </li>
        </ol>
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/ae4a641b-967e-4710-a33c-0d8e94a1d624/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=cad638c9d3908b595e3330e8be8bdbee05e7fbe3b4ebea336545e871187c074d&X-Amz-SignedHeaders=host&x-id=GetObject" />
                
            </figure>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Maka hasilnya akan muncul database laravel_vercel 
            </li>
        </ol>
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/9c475ea9-e2fc-48f2-9571-91d2290c4339/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=ffb6efe8ef7359e75fc2121dc6727b208a40065bedc4d2a06a0d66223e89ebbc&X-Amz-SignedHeaders=host&x-id=GetObject" />
                
            </figure>
        
            <h2 class="notion-heading_2 notion-color-default">
                3️⃣ Menghubungkan Laravel dengan database
            </h2>
        
            <p>
                📒 Sebelumnya pastikan kamu sudah kembali ke halaman overview ya
            </p>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Klik connect di sebelah pojok kanan atas lalu akan muncul popup seperti berikut
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Klik generate password (jika belum)
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                setelah itu ganti database yang awalnya test menjadi nama database yang telah kita buat yakni <code class="notion-text-code">laravel_vercel</code>
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                Ganti opsi Connect With menjadi .env lalu klik icon copy didalam box
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Oiya kamu juga perlu untuk mendownload CA cert untuk mengamankan koneksi ke tidb, hal iin wajib, jika tidak maka akan terjadi error
            </li>
        </ol>
            <p>
                Setelah mendowload simpan dalam root project
            </p>
        
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/aa913f38-f3cc-4b7b-b8e6-87490b5d56dd/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=2e98c5783cf5d06497aecdca04aaf6c13be26a0f54b6ec3f2dbe7b95b5aea6a7&X-Amz-SignedHeaders=host&x-id=GetObject" />
                
            </figure>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Pastekan kedalam file .env di project laravel, dan hasilnya kurang lebih seperti ini
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                tambahkan config berikut untuk mengkonfigurasi CA cert yang telah kita download ke laravel
            </li>
        </ol>
            <p>
                📒 Note: path harus berupa absolute path dan bukan relative path, karena relative path tidak akan bekerja.
            </p>
        
            <p>
                untuk mendapatkan absolute path dalam vscode anda bisa mengklik kanan pada file tersebut lalu klik copy
            </p>
        
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/c57d6393-3845-4cfc-a0d0-dac92bf57f8c/bcd43deb-d567-40d0-9aa9-399c57cfed98.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=829bb14c2ca128bdccd2eabc4d26e9fc33ff58de33540b02abefaa42deaa78fd&X-Amz-SignedHeaders=host&x-id=GetObject" />
                
            </figure>
        
            <h2 class="notion-heading_2 notion-color-default">
                4️⃣ Testing koneksi
            </h2>
        
            <p>
                setelah menkonfigurasi project saatnya kita test apakah sudah benar benar terhubung ke tidb atau belum. Caranya cukup mudah, ikuti langkah berikut
            </p>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Buat seeder untuk table user dengan membuka file <code class="notion-text-code">database/seeders/DatabaseSeeder.php</code> lalu uncomment bagian dibawah ini
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                save file DatabaseSeeder.php lalu jalankan migrasi dan seed bersamaan dengan perintah
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                jika berhasil maka artinya koneksi ke database sudah berhasil
            </li>
        </ol>
            <p>
                setelah kita pastikan aplikasi berjalan lancar di lokal saatnya kita mendeploy aplikasi tersebut agar bisa diakses oleh semua orang.
            </p>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Buat file <code class="notion-text-code">api/inde.php</code> lalu ketikan kode berikut
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Buat file <code class="notion-text-code">.vercelignore</code> lalu tuliskan folder vendor dan node_modules didalamnya
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                Buat file <code class="notion-text-code">vercel.json</code> lalu masukkan kode berikut
            </li>
        </ol>
            <p>
                kamu tidak perlu merubah apapun dari kode diatas
            </p>
        
            <p>
                Yay untuk konfigurasi selesai, saatnya kita deploy ke vercel
            </p>
        
            <h2 class="notion-heading_2 notion-color-default">
                6️⃣ Deploy project ke vercel
            </h2>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                buat repository github
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                push project kalian ke github
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                buka vercel
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                buat project dan masukkan env APP_KEY dengan value APP_KEY yang ada file .env project kita, masukkan juga seluruh env terkait database
            </li>
        </ol>
            <figure class="notion-image">
                <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cdf2796-d50d-44cb-8b74-cc86c9b35522/1f009fba-f60e-4330-bf50-ded39c9a8148/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240728%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240728T035859Z&X-Amz-Expires=3600&X-Amz-Signature=25bfa33539dcff40c3d4ca2e6697a55db6c6c8d2e0b1efbc880a9dfbdf65cc36&X-Amz-SignedHeaders=host&x-id=GetObject" />
                
            </figure>
        <ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                Klik deploy, dan yay project laravel kita sudah berhasil dideploy
            </li>
        </ol><ol class="notion-numbered_list">
            <li class="notion-numbered_list_item notion-color-default">
                APP_KEY error
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                Project not found
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                build error
            </li>
        
            <li class="notion-numbered_list_item notion-color-default">
                max function reached
            </li>
        </ol> <!-- ))} --> </div> </div> </div> <div id="disqus_thread" class="md:mx-16"></div> <script>
      /**
      *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
      *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
      /*
      var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
      */
      (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://hasban-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
  </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <script id="dsq-count-scr" src="//hasban-blog.disqus.com/count.js" async></script>  </main> </body></html> 